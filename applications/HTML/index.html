<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wind Tunnel Control</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Wind Tunnel Real-time Status</h1>
    <div class="container">
        <div class="wind-tunnel-container">
            <h2>Live View</h2>
            <div class="tunnel">
                <div id="ball"></div>
                <div id="target-line"></div>
            </div>
        </div>
        <div class="dashboard-container">
            <h2>Dashboard</h2>
            <div class="grid-container">
                <div class="grid-item">
                    <span class="label">Current Height(mm):</span>
                    <span id="current_height" class="value">...</span>
                </div>
                <div class="grid-item">
                    <span class="label">Target Height(mm):</span>
                    <span id="target_height" class="value">...</span>
                </div>
                <div class="grid-item">
                    <span class="label">Ramped Height(mm):</span>
                    <span id="ramped_height" class="value">...</span>
                </div>
                <div class="grid-item">
                    <span class="label">Feedforward Speed:</span>
                    <span id="feedforward_speed" class="value">...</span>
                </div>
                <div class="grid-item">
                    <span class="label">PID KP:</span>
                    <span id="pid_kp" class="value">...</span>
                </div>
                <div class="grid-item">
                    <span class="label">PID KI:</span>
                    <span id="pid_ki" class="value">...</span>
                </div>
                <div class="grid-item">
                    <span class="label">PID KD:</span>
                    <span id="pid_kd" class="value">...</span>
                </div>
                <div class="grid-item">
                    <span class="label">Integral Error:</span>
                    <span id="integral_error" class="value">...</span>
                </div>
                <div class="grid-item">
                    <span class="label">Previous Error:</span>
                    <span id="previous_error" class="value">...</span>
                </div>
                <div class="grid-item">
                    <span class="label">Is Evaluating:</span>
                    <span id="is_evaluating" class="value">...</span>
                </div>
                <div class="grid-item">
                    <span class="label">Total Abs Error(Available on Evaluating):</span>
                    <span id="total_abs_error" class="value">...</span>
                </div>
            </div>
        </div>
    </div>

    <div class="control-panel-container">
        <h2>Control Panel</h2>
        <div class="controls-section">
            <h3>Target Height Control</h3>
            <div class="control-group">
                <label for="target_height_input">Target Height (mm):</label>
                <input type="number" id="target_height_input" step="10" class="control-input">
                <button id="set_target_btn" class="control-button">Set Target</button>
            </div>
        </div>

        <div class="controls-section">
            <h3>Manual PID Override</h3>
            <div class="control-group">
                <label for="kp_input">Kp:</label>
                <input type="number" id="kp_input" step="0.0001" class="control-input">
            </div>
            <div class="control-group">
                <label for="ki_input">Ki:</label>
                <input type="number" id="ki_input" step="0.0001" class="control-input">
            </div>
            <div class="control-group">
                <label for="kd_input">Kd:</label>
                <input type="number" id="kd_input" step="0.0001" class="control-input">
            </div>
             <button id="set_pid_btn" class="control-button">Set PID</button>
        </div>

        <div class="controls-section">
            <h3>Feedforward Table</h3>
            <table id="ff_table">
                <thead>
                    <tr>
                        <th>Index</th>
                        <th>Height (mm)</th>
                        <th>Base Speed</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody id="ff_table_body">
                    <!-- Rows will be dynamically inserted here by script.js -->
                </tbody>
            </table>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>